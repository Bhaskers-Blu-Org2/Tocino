/* -*- Mode:C++; c-file-style:"gnu"; indent-tabs-mode:nil; -*- */
#ifndef __TOCINO_NET_DEVICE_TRANSMITTER_H__
#define __TOCINO_NET_DEVICE_TRANSMITTER_H__

#include "ns3/tocino-net-device.h"

namespace ns3 {

class TocinoNetDeviceTransmiter
{
 public:
  TocinoNetDeviceTransmitter(<Ptr>TocinoNetDevice nd, unsigned int port, unsigned int n_ports);
  ~TocinoNetDeviceTransmitter();

  void Transmit(Packet* p);
  void PortLinkage(unsigned int port,
                  Ptr<TocinoNetDeviceReceiver> receiver,
                  Ptr<Queue> q);
 private:
  unsigned int m_port;
  unsigned int m_n_ports;

  enum TocinoTransmitterState = {IDLE, BUSY};
  TocinoTransmitterState m_state = IDLE;

  Ptr<TocinoNetDevice> m_tnd; // link to owning TocinoNetDevice
  Ptr<TocinoNetDeviceReceiver> m_receiver[MAX_PORTS]; // links to receivers
  Ptr<Queue> m_q[MAX_PORTS]; // links to queues
}

}
#endif /* __TOCINO_NET_DEVICE_RECEIVER_H__ */
